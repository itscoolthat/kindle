<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Kindleå­¦ä¹ å°</title>
    <style>
        /* --- æ ·å¼åŒº --- */
        body {
            font-family: Arial, sans-serif;
            background-color: white;
            color: black;
            margin: 0;
            padding: 5px;
            text-align: center;
        }
        
        /* éšè—åŠŸèƒ½ */
        .hidden { display: none !important; }

        /* é¡¶éƒ¨æ—¶é—´ */
        #clock-display {
            font-size: 60px;
            font-weight: bold;
            margin-top: 10px;
            margin-bottom: 5px;
        }
        #date-display {
            font-size: 18px;
            border-bottom: 1px solid black;
            padding-bottom: 10px;
            margin-bottom: 20px;
            display: inline-block;
        }

        /* èœå•æŒ‰é’® - æ”¹ä¸ºåˆ—è¡¨å¼ï¼Œæ›´ç¨³å¦¥ */
        .menu-btn {
            display: block;
            width: 90%;
            margin: 10px auto;
            border: 2px solid black;
            border-radius: 8px;
            padding: 15px 0;
            background: white;
            color: black;
            font-size: 24px;
            font-weight: bold;
            cursor: pointer;
            text-decoration: none;
        }
        /* æŒ‰ä¸‹æ•ˆæœ */
        .menu-btn:active {
            background: black;
            color: white;
        }

        /* è¯¦æƒ…é¡µé€šç”¨ */
        .page-container {
            padding-top: 20px;
        }
        .back-btn {
            border: 1px solid black;
            background: white;
            padding: 5px 20px;
            font-size: 16px;
            margin-bottom: 20px;
            display: inline-block;
            cursor: pointer;
        }

        /* å„ä¸ªåŠŸèƒ½çš„ç‰¹æœ‰æ ·å¼ */
        #timer-val { font-size: 80px; font-weight: bold; margin: 30px 0; }
        #lucky-result { font-size: 40px; margin: 40px 0; font-weight: bold; padding: 20px; border: 2px dashed black; }
        #word-text { font-size: 50px; font-weight: bold; margin-top: 30px; }
        #word-phonetic { font-size: 24px; color: #444; margin-bottom: 15px; }
        #word-sentence { font-size: 20px; font-style: italic; padding: 0 20px; }
        
        /* éŸµæ¯ç»ƒä¹ çš„å¤§å­— */
        #pinyin-char { font-size: 100px; font-weight: bold; margin-top: 20px; }
        #pinyin-hint { font-size: 24px; margin-top: 20px; }
        
        /* æ§åˆ¶æŒ‰é’®ç»„ */
        .ctrl-btn {
            border: 2px solid black;
            background: white;
            font-size: 20px;
            padding: 10px 20px;
            margin: 0 5px;
            cursor: pointer;
        }
    </style>
</head>
<body>

    <div id="home-page">
        <div id="clock-display">00:00</div>
        <div id="date-display">æ­£åœ¨åŠ è½½æ—¥æœŸ...</div>

        <div class="menu-btn" onclick="showPage('page-timer')">
            [ â° ] ä¸“æ³¨é—¹é’Ÿ
        </div>
        <div class="menu-btn" onclick="showPage('page-lucky')">
            [ ğŸ² ] éšæœºå¹²å•¥
        </div>
        <div class="menu-btn" onclick="showPage('page-word')">
            [ ğŸ“– ] æ¯æ—¥å•è¯
        </div>
        <div class="menu-btn" onclick="showPage('page-pinyin')">
            [ ğŸ—£ ] éŸµæ¯ç»ƒä¹ 
        </div>
    </div>

    <div id="page-timer" class="hidden page-container">
        <div class="back-btn" onclick="goHome()"> < è¿”å› </div>
        <h2>ä¸“æ³¨æ—¶é—´</h2>
        <div id="timer-val">25:00</div>
        <div>
            <button class="ctrl-btn" onclick="startTimer()">å¼€å§‹</button>
            <button class="ctrl-btn" onclick="pauseTimer()">æš‚åœ</button>
            <button class="ctrl-btn" onclick="resetTimer()">é‡ç½®</button>
        </div>
    </div>

    <div id="page-lucky" class="hidden page-container">
        <div class="back-btn" onclick="goHome()"> < è¿”å› </div>
        <h2>ç°åœ¨åšä»€ä¹ˆï¼Ÿ</h2>
        <div id="lucky-result">?</div>
        <button class="ctrl-btn" style="width: 80%" onclick="drawLucky()">å¼€å§‹æŠ½ç­¾</button>
    </div>

    <div id="page-word" class="hidden page-container">
        <div class="back-btn" onclick="goHome()"> < è¿”å› </div>
        <div id="word-text">...</div>
        <div id="word-phonetic">...</div>
        <div id="word-sentence">...</div>
    </div>

    <div id="page-pinyin" class="hidden page-container">
        <div class="back-btn" onclick="goHome()"> < è¿”å› </div>
        <div id="pinyin-display">
            <div id="pinyin-char">a</div>
            <div id="pinyin-hint">å¼ å¤§å˜´å·´ a a a</div>
        </div>
        <div style="margin-top: 40px;">
            <button class="ctrl-btn" onclick="prevPinyin()">ä¸Šä¸€ä¸ª</button>
            <button class="ctrl-btn" onclick="nextPinyin()">ä¸‹ä¸€ä¸ª</button>
        </div>
    </div>

    <script>
        // --- å…¼å®¹æ—§ç‰ˆ Kindle çš„ JavaScript (ES5) ---
        
        // 1. æ—¶é’ŸåŠŸèƒ½
        function updateClock() {
            var now = new Date();
            var h = now.getHours();
            var m = now.getMinutes();
            // è¡¥é›¶æ“ä½œ
            if (h < 10) h = '0' + h;
            if (m < 10) m = '0' + m;
            
            document.getElementById('clock-display').innerHTML = h + ':' + m;
            
            // ç®€å•çš„æ—¥æœŸæ˜¾ç¤º
            var m = now.getMonth() + 1;
            var d = now.getDate();
            document.getElementById('date-display').innerHTML = m + 'æœˆ' + d + 'æ—¥';
        }
        // æ¯ç§’åˆ·æ–°
        setInterval(updateClock, 1000);
        // ç«‹å³è¿è¡Œä¸€æ¬¡
        updateClock();

        // é¡µé¢åˆ‡æ¢åŠŸèƒ½
        function goHome() {
            hideAll();
            document.getElementById('home-page').className = '';
        }
        
        function showPage(id) {
            hideAll();
            document.getElementById(id).className = 'page-container';
            if(id === 'page-word') loadDailyWord();
        }
        
        function hideAll() {
            var pages = ['home-page', 'page-timer', 'page-lucky', 'page-word', 'page-pinyin'];
            for (var i = 0; i < pages.length; i++) {
                document.getElementById(pages[i]).className = 'hidden';
            }
        }

        // 2. å€’è®¡æ—¶åŠŸèƒ½
        var timerInterval = null;
        var timeLeft = 1500; // 25åˆ†é’Ÿ
        var isRunning = false;

        function updateTimerDisplay() {
            var m = Math.floor(timeLeft / 60);
            var s = timeLeft % 60;
            if (m < 10) m = '0' + m;
            if (s < 10) s = '0' + s;
            document.getElementById('timer-val').innerHTML = m + ':' + s;
        }

        function startTimer() {
            if (isRunning) return;
            isRunning = true;
            timerInterval = setInterval(function() {
                if (timeLeft > 0) {
                    timeLeft--;
                    updateTimerDisplay();
                } else {
                    pauseTimer();
                    alert("æ—¶é—´åˆ°ï¼");
                }
            }, 1000);
        }

        function pauseTimer() {
            clearInterval(timerInterval);
            isRunning = false;
        }

        function resetTimer() {
            pauseTimer();
            timeLeft = 1500;
            updateTimerDisplay();
        }

        // 3. æŠ½ç­¾åŠŸèƒ½
        var luckyOptions = ["è¯»ç»˜æœ¬", "åšæ·±è¹²", "èƒŒå•è¯", "å‘å‘†", "ç”»ç”»"];
        
        function drawLucky() {
            var box = document.getElementById('lucky-result');
            box.innerHTML = "...";
            var count = 0;
            var max = 6;
            var loop = setInterval(function() {
                var r = Math.floor(Math.random() * luckyOptions.length);
                box.innerHTML = luckyOptions[r];
                count++;
                if (count >= max) {
                    clearInterval(loop);
                }
            }, 200);
        }

        // 4. æ¯æ—¥å•è¯ (æ”¹ä¸ºç®€å•çš„ var æ•°ç»„)
        var wordDb = [
            {t:"Cat", p:"/kÃ¦t/", s:"The cat is sleeping."},    // 0å‘¨æ—¥
            {t:"Apple", p:"/Ã¦pl/", s:"I like apples."},         // 1å‘¨ä¸€
            {t:"Book", p:"/bÊŠk/", s:"Read a book."},            // 2å‘¨äºŒ
            {t:"Happy", p:"/hÃ¦pi/", s:"Be happy!"},             // 3å‘¨ä¸‰
            {t:"Sun", p:"/sÊŒn/", s:"Hot sun."},                 // 4å‘¨å››
            {t:"Water", p:"/wÉ”:tÉ™/", s:"Drink water."},         // 5å‘¨äº”
            {t:"Play", p:"/pleÉª/", s:"Let's play!"}             // 6å‘¨å…­
        ];

        function loadDailyWord() {
            var day = new Date().getDay();
            var w = wordDb[day];
            document.getElementById('word-text').innerHTML = w.t;
            document.getElementById('word-phonetic').innerHTML = w.p;
            document.getElementById('word-sentence').innerHTML = w.s;
        }

        // 5. éŸµæ¯ç»ƒä¹ 
        var pinyinData = [
            {char:"a", hint:"å¼ å¤§å˜´å·´ a a a"}, 
            {char:"o", hint:"å…¬é¸¡æ‰“é¸£ o o o"}, 
            {char:"e", hint:"å¤§ç™½é¹… e e e"}, 
            {char:"i", hint:"ä¸€ä»¶è¡£æœ i i i"}, 
            {char:"u", hint:"ä¸€åªä¹Œé¾Ÿ u u u"}, 
            {char:"Ã¼", hint:"å°é±¼åæ³¡ Ã¼ Ã¼ Ã¼"}
        ];
        var pIndex = 0;

        function updatePinyin() {
            var d = pinyinData[pIndex];
            document.getElementById('pinyin-char').innerHTML = d.char;
            document.getElementById('pinyin-hint').innerHTML = d.hint;
        }

        function nextPinyin() {
            pIndex++;
            if (pIndex >= pinyinData.length) pIndex = 0;
            updatePinyin();
        }

        function prevPinyin() {
            pIndex--;
            if (pIndex < 0) pIndex = pinyinData.length - 1;
            updatePinyin();
        }
        
        // åˆå§‹åŒ–è¿è¡Œ
        updatePinyin();

    </script>
</body>
</html>
